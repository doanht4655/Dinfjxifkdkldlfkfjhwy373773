# ğŸ›ï¸ TÃNH NÄ‚NG ÄIá»€U KHIá»‚N BOT - TIáº¾NG VIá»†T

## ğŸ“‹ DANH SÃCH TÃNH NÄ‚NG ÄÃƒ THÃŠM

### ğŸŸ¢ Báº­t/Táº¯t Bot
- **`/batbot`** - Báº­t bot (chá»‰ Master Admin)
- **`/tatbot`** - Táº¯t bot (chá»‰ Master Admin)
- Bot tá»± Ä‘á»™ng gá»­i thÃ´ng bÃ¡o tá»›i táº¥t cáº£ ngÆ°á»i dÃ¹ng khi báº­t/táº¯t

### â° Háº¹n Giá» Báº­t/Táº¯t Bot
- **`/hentacbot <thá»i_gian>`** - Háº¹n táº¯t bot
- **`/henbatbot <thá»i_gian>`** - Háº¹n báº­t bot

#### Äá»‹nh dáº¡ng thá»i gian há»— trá»£:
1. **Sá»‘ phÃºt**: `/hentacbot 30` (táº¯t sau 30 phÃºt)
2. **Giá»:phÃºt hÃ´m nay**: `/hentacbot 14:30` (táº¯t lÃºc 14:30 hÃ´m nay)
3. **NgÃ y/thÃ¡ng giá»:phÃºt**: `/hentacbot 25/12 09:00` (táº¯t lÃºc 9:00 ngÃ y 25/12)

### ğŸ“‹ Quáº£n LÃ½ Lá»‹ch Háº¹n
- **`/danhsachlichhen`** - Xem táº¥t cáº£ lá»‹ch háº¹n Ä‘ang chá»
- **`/huylichhen <mÃ£_lá»‹ch>`** - Há»§y lá»‹ch háº¹n cá»¥ thá»ƒ

### ğŸ“¢ ThÃ´ng BÃ¡o Chung
- **`/thongbao <tin_nháº¯n>`** - Gá»­i thÃ´ng bÃ¡o tá»›i táº¥t cáº£ ngÆ°á»i dÃ¹ng

## ğŸ”’ Báº¢O Máº¬T & QUYá»€N Háº N

### Master Admin Only (ID: 7509896689)
- Táº¥t cáº£ lá»‡nh bot control chá»‰ Master Admin má»›i sá»­ dá»¥ng Ä‘Æ°á»£c
- NgÆ°á»i dÃ¹ng khÃ¡c sáº½ nháº­n thÃ´ng bÃ¡o tá»« chá»‘i quyá»n truy cáº­p

### Kiá»ƒm Tra Tráº¡ng ThÃ¡i Bot
- Khi bot táº¯t, chá»‰ Master Admin tháº¥y thÃ´ng bÃ¡o cÃ³ thá»ƒ báº­t láº¡i
- NgÆ°á»i dÃ¹ng thÆ°á»ng nháº­n thÃ´ng bÃ¡o bot Ä‘ang báº£o trÃ¬

## ğŸ’¾ LÆ¯U TRá»® Dá»® LIá»†U

### Files má»›i Ä‘Æ°á»£c thÃªm:
- `data/bot_status.json` - Tráº¡ng thÃ¡i báº­t/táº¯t bot
- `data/scheduled_tasks.json` - Danh sÃ¡ch lá»‹ch háº¹n

### Tá»± Ä‘á»™ng backup:
- LÆ°u tráº¡ng thÃ¡i má»—i khi thay Ä‘á»•i
- Tá»± Ä‘á»™ng khÃ´i phá»¥c khi restart bot
- Scheduled tasks Ä‘Æ°á»£c tÃ¡i táº¡o sau restart

## ğŸ”„ LUá»’NG HOáº T Äá»˜NG

### Khi Bot Khá»Ÿi Äá»™ng:
1. Äá»c tráº¡ng thÃ¡i bot tá»« file
2. Äá»c vÃ  khÃ´i phá»¥c scheduled tasks
3. TÃ¡i táº¡o timer cho cÃ¡c task chÆ°a thá»±c hiá»‡n
4. Hiá»ƒn thá»‹ thÃ´ng tin trong log

### Khi Thá»±c Hiá»‡n Task Háº¹n Giá»:
1. Thá»±c hiá»‡n báº­t/táº¯t bot theo lá»‹ch
2. Gá»­i thÃ´ng bÃ¡o tá»›i táº¥t cáº£ ngÆ°á»i dÃ¹ng
3. XÃ³a task khá»i danh sÃ¡ch
4. Cáº­p nháº­t file lÆ°u trá»¯

## ğŸŒŸ VÃ Dá»¤ Sá»¬ Dá»¤NG

```
# Táº¯t bot ngay láº­p tá»©c
/tatbot

# Báº­t bot ngay láº­p tá»©c  
/batbot

# Háº¹n táº¯t bot sau 1 giá»
/hentacbot 60

# Háº¹n báº­t bot lÃºc 8:00 sÃ¡ng mai
/henbatbot 08:00

# Háº¹n táº¯t bot vÃ o 23:59 ngÃ y 31/12
/hentacbot 31/12 23:59

# Xem danh sÃ¡ch lá»‹ch háº¹n
/danhsachlichhen

# Há»§y lá»‹ch háº¹n
/huylichhen toggle_1_1722470400

# Gá»­i thÃ´ng bÃ¡o chung
/thongbao Há»‡ thá»‘ng sáº½ báº£o trÃ¬ tá»« 14:00-15:00 hÃ´m nay
```

## ğŸ›¡ï¸ DECORATOR Báº¢O Vá»†

### @check_bot_active()
- Tá»± Ä‘á»™ng kiá»ƒm tra tráº¡ng thÃ¡i bot trÆ°á»›c khi xá»­ lÃ½ lá»‡nh
- Cháº·n táº¥t cáº£ lá»‡nh khi bot táº¯t (trá»« lá»‡nh bot control)
- Hiá»ƒn thá»‹ thÃ´ng bÃ¡o phÃ¹ há»£p vá»›i tá»«ng loáº¡i ngÆ°á»i dÃ¹ng

### Lá»‡nh Ä‘Æ°á»£c bypass khi bot táº¯t:
- `batbot`, `tatbot`, `hentacbot`, `henbatbot`
- `danhsachlichhen`, `huylichhen`, `thongbao`

## ğŸ”§ TÃNH NÄ‚NG Ká»¸ THUáº¬T

### Broadcast Message
- Gá»­i tá»›i táº¥t cáº£ user cÃ³ KEY
- Gá»­i tá»›i táº¥t cáº£ admin
- TrÃ¡nh gá»­i trÃ¹ng láº·p
- Delay 0.1s giá»¯a má»—i tin nháº¯n trÃ¡nh spam
- Log sá»‘ lÆ°á»£ng gá»­i thÃ nh cÃ´ng/tháº¥t báº¡i

### Error Handling
- Validate Ä‘á»‹nh dáº¡ng thá»i gian
- Kiá»ƒm tra quyá»n truy cáº­p
- Xá»­ lÃ½ lá»—i file I/O
- Log chi tiáº¿t lá»—i há»‡ thá»‘ng

### Thread Safety
- Sá»­ dá»¥ng Lock cho dá»¯ liá»‡u bot status
- Äá»“ng bá»™ hÃ³a scheduled tasks
- An toÃ n khi Ä‘a luá»“ng

## ğŸ“Š Cáº¬P NHáº¬T ADMIN GUIDE

ÄÃ£ cáº­p nháº­t hÆ°á»›ng dáº«n admin vá»›i:
- Pháº§n "ÄIá»€U KHIá»‚N BOT" má»›i
- CÃ¡c vÃ­ dá»¥ sá»­ dá»¥ng chi tiáº¿t  
- LÆ°u Ã½ quyá»n háº¡n Master Admin
- Äá»‹nh dáº¡ng thá»i gian há»— trá»£

## âœ… TRáº NG THÃI HOÃ€N THÃ€NH

ğŸ¯ **ÄÃƒ HOÃ€N THÃ€NH Táº¤T Cáº¢ YÃŠU Cáº¦U:**
- âœ… TÃ­nh nÄƒng táº¯t bot vÃ  báº­t bot
- âœ… Háº¹n táº¯t bot vÃ  báº­t bot  
- âœ… ThÃ´ng bÃ¡o cho táº¥t cáº£ má»i ngÆ°á»i
- âœ… TÃ­nh nÄƒng chá»‰ cho admin 7509896689
- âœ… CÃ¡c lá»‡nh bot theo tiáº¿ng Viá»‡t
- âœ… Fix toÃ n bá»™ lá»—i code triá»‡t Ä‘á»ƒ
- âœ… KhÃ´ng cÃ³ lá»—i cÃº phÃ¡p Python
- âœ… TÆ°Æ¡ng thÃ­ch vá»›i code hiá»‡n táº¡i
